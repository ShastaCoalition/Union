<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Export Word Cloud PNG</title>
<style>
  body { margin: 0; background: #111; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; font-family: sans-serif; color: white; }
  canvas { border-radius: 22px; box-shadow: 0 20px 60px rgba(0,0,0,0.8); }
  button { margin-top: 24px; padding: 14px 32px; background: #d4a843; color: #1a0a0a; border: none; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer; }
  p { opacity: 0.6; font-size: 14px; margin-top: 8px; }
</style>
</head>
<body>
<canvas id="c" width="1200" height="630"></canvas>
<button onclick="downloadPNG()">⬇️ Download PNG</button>
<p>Upload this PNG to your GitHub repo, then update the og:image tag</p>

<script>
const c = document.getElementById('c');
const ctx = c.getContext('2d');
const W = 1200, H = 630;

function draw() {
  // Background
  const bg = ctx.createLinearGradient(0, 0, W, H);
  bg.addColorStop(0, '#1a0a0a');
  bg.addColorStop(0.5, '#1e1008');
  bg.addColorStop(1, '#0f0505');
  ctx.fillStyle = bg;
  ctx.roundRect(0, 0, W, H, 22);
  ctx.fill();

  // Vignette
  const vig = ctx.createRadialGradient(W/2, H/2, 100, W/2, H/2, W*0.7);
  vig.addColorStop(0, 'rgba(40,10,5,0)');
  vig.addColorStop(1, 'rgba(0,0,0,0.55)');
  ctx.fillStyle = vig;
  ctx.roundRect(0, 0, W, H, 22);
  ctx.fill();

  // Rule lines
  ctx.strokeStyle = 'rgba(212,168,67,0.35)';
  ctx.lineWidth = 0.8;
  [[70,95,330,95],[870,95,1130,95],[70,530,330,530],[870,530,1130,530]].forEach(([x1,y1,x2,y2]) => {
    ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
  });

  // Corner diamonds
  ctx.fillStyle = 'rgba(212,168,67,0.55)';
  [[68,95],[1132,95],[68,530],[1132,530]].forEach(([x,y]) => {
    ctx.beginPath();
    ctx.moveTo(x,y-6); ctx.lineTo(x+5,y); ctx.lineTo(x,y+6); ctx.lineTo(x-5,y);
    ctx.closePath(); ctx.fill();
  });

  // ── ICONS ──

  function icon(fn, x, y, alpha=0.55) {
    ctx.save();
    ctx.translate(x, y);
    ctx.globalAlpha = alpha;
    fn();
    ctx.restore();
  }

  // Stethoscope (near NURSES, top left)
  icon(() => {
    ctx.strokeStyle = '#e83a3a'; ctx.lineWidth = 3; ctx.lineCap = 'round';
    ctx.beginPath(); ctx.moveTo(10,2); ctx.lineTo(10,14); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(28,2); ctx.lineTo(28,14); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(10,14); ctx.lineTo(10,24); ctx.lineTo(28,24); ctx.lineTo(28,14); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(19,24); ctx.lineTo(19,40); ctx.stroke();
    ctx.beginPath(); ctx.arc(19,49,9,0,Math.PI*2); ctx.stroke();
    ctx.fillStyle='rgba(232,58,58,0.35)'; ctx.beginPath(); ctx.arc(19,49,4,0,Math.PI*2); ctx.fill();
  }, 52, 115);

  // Wrench (near ENGINEERS, left)
  icon(() => {
    ctx.strokeStyle = '#d4a843'; ctx.lineWidth = 2.5; ctx.lineCap = 'round';
    ctx.beginPath(); ctx.arc(22,16,14,0,Math.PI*2); ctx.stroke();
    ctx.fillStyle='rgba(212,168,67,0.25)'; ctx.beginPath(); ctx.arc(22,16,6,0,Math.PI*2); ctx.fill();
    ctx.strokeStyle='#d4a843';
    ctx.save(); ctx.translate(22,47); ctx.rotate(0.26);
    ctx.beginPath(); ctx.roundRect(-4,0,8,40,4); ctx.stroke();
    ctx.restore();
    ctx.beginPath(); ctx.arc(28,65,7,0,Math.PI*2); ctx.stroke();
  }, 42, 278);

  // Hard hat (near STEELWORKERS)
  icon(() => {
    ctx.strokeStyle = 'rgba(255,255,255,0.6)'; ctx.lineWidth = 2.5;
    ctx.fillStyle = 'rgba(255,255,255,0.06)';
    ctx.beginPath(); ctx.ellipse(26,22,24,18,0,Math.PI,0); ctx.fill(); ctx.stroke();
    ctx.beginPath(); ctx.roundRect(2,30,48,7,3); ctx.stroke();
    ctx.strokeStyle='rgba(255,255,255,0.3)'; ctx.lineWidth=2;
    ctx.beginPath(); ctx.moveTo(26,8); ctx.lineTo(26,28); ctx.stroke();
  }, 50, 385);

  // Graduation cap (near TEACHERS, top right)
  icon(() => {
    ctx.strokeStyle = '#d4a843'; ctx.lineWidth = 2.5;
    ctx.fillStyle = 'rgba(212,168,67,0.18)';
    ctx.beginPath(); ctx.moveTo(24,4); ctx.lineTo(48,16); ctx.lineTo(24,28); ctx.lineTo(0,16); ctx.closePath();
    ctx.fill(); ctx.stroke();
    ctx.lineWidth=3; ctx.lineCap='round';
    ctx.beginPath(); ctx.moveTo(24,28); ctx.lineTo(24,46); ctx.stroke();
    ctx.lineWidth=2;
    ctx.beginPath(); ctx.moveTo(44,20); ctx.lineTo(44,36); ctx.stroke();
    ctx.beginPath(); ctx.arc(44,41,5,0,Math.PI*2); ctx.stroke();
    ctx.fillStyle='rgba(212,168,67,0.45)'; ctx.beginPath(); ctx.arc(44,41,2.5,0,Math.PI*2); ctx.fill();
    ctx.strokeStyle='#d4a843';
    ctx.beginPath(); ctx.roundRect(14,46,20,12,3); ctx.stroke();
    ctx.lineWidth=1.2; ctx.globalAlpha*=0.6;
    ctx.beginPath(); ctx.moveTo(18,52); ctx.lineTo(30,52); ctx.stroke();
  }, 1082, 112);

  // Truck (near TEAMSTERS)
  icon(() => {
    ctx.strokeStyle = '#d4a843'; ctx.lineWidth = 2.5;
    ctx.beginPath(); ctx.roundRect(0,8,50,26,3); ctx.stroke();
    ctx.beginPath(); ctx.roundRect(40,2,24,32,3); ctx.stroke();
    ctx.fillStyle='rgba(212,168,67,0.28)'; ctx.beginPath(); ctx.roundRect(43,6,16,11,2); ctx.fill();
    ctx.strokeStyle='#d4a843';
    [13,50].forEach(x => {
      ctx.beginPath(); ctx.arc(x,36,7,0,Math.PI*2); ctx.stroke();
      ctx.fillStyle='rgba(212,168,67,0.38)'; ctx.beginPath(); ctx.arc(x,36,3,0,Math.PI*2); ctx.fill();
    });
  }, 878, 253);

  // Airplane (near PILOTS)
  icon(() => {
    ctx.strokeStyle='rgba(255,255,255,0.65)'; ctx.lineWidth=2; ctx.lineCap='round';
    ctx.save(); ctx.rotate(-0.7);
    ctx.beginPath(); ctx.roundRect(18,0,8,52,4); ctx.stroke();
    ctx.beginPath(); ctx.roundRect(0,16,48,8,3); ctx.stroke();
    ctx.beginPath(); ctx.roundRect(10,36,24,6,2); ctx.stroke();
    ctx.restore();
  }, 1090, 295);

  // Lightning bolt (near ELECTRICIANS)
  icon(() => {
    ctx.strokeStyle='#e05050'; ctx.lineWidth=2.5; ctx.lineJoin='round';
    ctx.fillStyle='rgba(224,80,80,0.20)';
    ctx.beginPath();
    ctx.moveTo(22,0); ctx.lineTo(10,30); ctx.lineTo(22,30); ctx.lineTo(8,58); ctx.lineTo(34,20); ctx.lineTo(20,20); ctx.closePath();
    ctx.fill(); ctx.stroke();
  }, 1100, 368);

  // Hammer (near CARPENTERS, top center)
  icon(() => {
    ctx.strokeStyle='#e83a3a'; ctx.lineWidth=2.5;
    ctx.fillStyle='rgba(232,58,58,0.18)';
    ctx.beginPath(); ctx.roundRect(0,0,42,18,4); ctx.fill(); ctx.stroke();
    ctx.beginPath(); ctx.roundRect(16,16,10,42,4); ctx.stroke();
  }, 590, 108);

  // Wheat (near FARMWORKERS)
  icon(() => {
    ctx.strokeStyle='#d4a843'; ctx.lineWidth=2.5; ctx.lineCap='round';
    ctx.beginPath(); ctx.moveTo(18,58); ctx.lineTo(18,6); ctx.stroke();
    ctx.lineWidth=2;
    ctx.beginPath(); ctx.ellipse(18,8,6,11,0,0,Math.PI*2); ctx.stroke();
    [[18,40,6,30],[18,28,7,18],[18,36,30,26],[18,24,29,14]].forEach(([x1,y1,x2,y2],i) => {
      ctx.lineWidth = i%2===0 ? 2 : 1.8;
      ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
    });
  }, 293, 390);

  // Music note (near MUSICIANS)
  icon(() => {
    ctx.strokeStyle='#e05050'; ctx.lineWidth=2.5; ctx.lineCap='round';
    ctx.fillStyle='rgba(224,80,80,0.18)';
    ctx.save(); ctx.translate(10,44); ctx.rotate(-0.26);
    ctx.beginPath(); ctx.ellipse(0,0,9,7,0,0,Math.PI*2); ctx.fill(); ctx.stroke();
    ctx.restore();
    ctx.beginPath(); ctx.moveTo(19,40); ctx.lineTo(19,10); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(19,10); ctx.lineTo(38,16); ctx.lineTo(38,32); ctx.stroke();
  }, 168, 430);

  // Flame (near FIREFIGHTERS)
  icon(() => {
    ctx.strokeStyle='#e83a3a'; ctx.lineWidth=2.5;
    ctx.beginPath(); ctx.ellipse(20,50,16,20,0,0,Math.PI*2); ctx.stroke();
    ctx.strokeStyle='#e05050'; ctx.lineWidth=2;
    ctx.beginPath(); ctx.ellipse(20,38,10,16,0,0,Math.PI*2); ctx.stroke();
    ctx.strokeStyle='#d4a843'; ctx.lineWidth=1.8;
    ctx.beginPath(); ctx.ellipse(20,28,6,10,0,0,Math.PI*2); ctx.stroke();
  }, 1058, 415);

  // ── WORD CLOUD ──
  function word(text, x, y, size, color, italic=false, alpha=1) {
    ctx.save();
    ctx.globalAlpha = alpha;
    ctx.font = `${italic?'italic ':''} ${size>50?'900':'700'} ${size}px Georgia, serif`;
    ctx.fillStyle = color;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'alphabetic';
    if (size >= 80) {
      ctx.shadowColor = color; ctx.shadowBlur = 12;
    }
    ctx.fillText(text, x, y);
    ctx.restore();
  }

  const gold = '#d4a843';
  const red = '#e83a3a';
  const red2 = '#e05050';

  word('TEAMSTERS', 600, 300, 84, gold, true);
  word('NURSES', 185, 215, 50, red, false, 0.88);
  word('TEACHERS', 960, 222, 50, gold, false, 0.82);
  word('STEELWORKERS', 220, 415, 42, 'rgba(255,255,255,0.65)', true);
  word('ELECTRICIANS', 930, 400, 40, red2, false, 0.80);
  word('ENGINEERS', 130, 330, 32, gold, false, 0.70);
  word('clerical', 480, 185, 36, 'rgba(255,255,255,0.60)', true);
  word('CARPENTERS', 740, 185, 34, red, false, 0.75);
  word('MINERS', 370, 370, 30, 'rgba(255,255,255,0.55)');
  word('PLUMBERS', 820, 355, 32, gold, false, 0.65);
  word('service workers', 600, 390, 28, 'rgba(255,255,255,0.50)', true);
  word('PILOTS', 1055, 315, 30, 'rgba(255,255,255,0.55)');
  word('actors', 108, 468, 28, red2, true, 0.65);
  word('FARMWORKERS', 460, 458, 26, gold, false, 0.58);
  word('writers', 750, 450, 26, 'rgba(255,255,255,0.50)', true);
  word('FIREFIGHTERS', 940, 468, 28, red, false, 0.70);
  word('longshoremen', 310, 140, 20, 'rgba(255,255,255,0.38)', true);
  word('MACHINISTS', 880, 140, 20, 'rgba(212,168,67,0.45)');
  word('AUTO WORKERS', 600, 490, 22, 'rgba(255,255,255,0.42)');
  word('postal', 155, 510, 18, 'rgba(212,168,67,0.40)', true);
  word('retail', 1050, 505, 18, 'rgba(255,255,255,0.35)', true);
  word('musicians', 380, 505, 18, 'rgba(232,58,58,0.45)', true);
  word('LABORERS', 820, 500, 18, 'rgba(255,255,255,0.35)');
  word('grad students', 148, 163, 16, 'rgba(255,255,255,0.30)', true);
  word('baristas', 1055, 163, 16, 'rgba(232,58,58,0.40)', true);
  word('TRANSIT', 480, 142, 16, 'rgba(212,168,67,0.38)');
  word('HEALTHCARE', 720, 140, 16, 'rgba(255,255,255,0.30)');

  // Tagline
  ctx.save();
  ctx.globalAlpha = 0.60;
  ctx.font = '400 15px Georgia, serif';
  ctx.fillStyle = gold;
  ctx.textAlign = 'center';
  ctx.letterSpacing = '4px';
  ctx.fillText('WORKER UNIONS MATTER TO ALL OF US', 600, 566);
  ctx.restore();

  // Dots
  ctx.fillStyle = 'rgba(212,168,67,0.4)';
  ctx.beginPath(); ctx.arc(240,561,2.5,0,Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.arc(960,561,2.5,0,Math.PI*2); ctx.fill();

  // ── 3D BORDER ──
  // Outer glow
  ctx.save();
  ctx.globalAlpha = 0.10;
  ctx.strokeStyle = '#d4a843'; ctx.lineWidth = 7;
  ctx.beginPath(); ctx.roundRect(3,3,1194,624,24); ctx.stroke();
  ctx.restore();

  // Top highlight
  const bTop = ctx.createLinearGradient(0,0,W,0);
  bTop.addColorStop(0,'rgba(58,26,26,0)'); bTop.addColorStop(0.3,'#f5d060'); bTop.addColorStop(0.7,'#f5d060'); bTop.addColorStop(1,'rgba(58,26,26,0)');
  ctx.fillStyle = bTop; ctx.globalAlpha=0.9; ctx.fillRect(20,20,1160,3); ctx.globalAlpha=1;

  // Bottom shadow
  const bBot = ctx.createLinearGradient(0,0,W,0);
  bBot.addColorStop(0,'rgba(42,16,16,0)'); bBot.addColorStop(0.3,'#8a6020'); bBot.addColorStop(0.7,'#8a6020'); bBot.addColorStop(1,'rgba(42,16,16,0)');
  ctx.fillStyle = bBot; ctx.globalAlpha=0.8; ctx.fillRect(20,607,1160,3); ctx.globalAlpha=1;

  // Left edge
  const bLeft = ctx.createLinearGradient(0,0,0,H);
  bLeft.addColorStop(0,'rgba(58,26,26,0)'); bLeft.addColorStop(0.3,'#f5d060'); bLeft.addColorStop(0.7,'#8a6020'); bLeft.addColorStop(1,'rgba(42,16,16,0)');
  ctx.fillStyle=bLeft; ctx.globalAlpha=0.85; ctx.fillRect(20,20,3,590); ctx.globalAlpha=1;

  // Right edge
  const bRight = ctx.createLinearGradient(0,0,0,H);
  bRight.addColorStop(0,'rgba(58,26,26,0)'); bRight.addColorStop(0.4,'#8a6020'); bRight.addColorStop(1,'rgba(26,8,8,0)');
  ctx.fillStyle=bRight; ctx.globalAlpha=0.70; ctx.fillRect(1177,20,3,590); ctx.globalAlpha=1;

  // Main gold border
  ctx.strokeStyle = '#d4a843'; ctx.lineWidth = 2.5; ctx.globalAlpha=0.78;
  ctx.beginPath(); ctx.roundRect(20,20,1160,590,22); ctx.stroke(); ctx.globalAlpha=1;

  // Inner shadow inset
  ctx.strokeStyle='rgba(0,0,0,0.55)'; ctx.lineWidth=1.5;
  ctx.beginPath(); ctx.roundRect(28,28,1144,574,18); ctx.stroke();

  // Inner highlight inset
  ctx.strokeStyle='rgba(255,220,100,0.10)'; ctx.lineWidth=1;
  ctx.beginPath(); ctx.roundRect(29.5,29.5,1141,571,17); ctx.stroke();

  // Top inner bevel
  const innerTop = ctx.createLinearGradient(0,0,W,0);
  innerTop.addColorStop(0,'rgba(255,220,100,0)'); innerTop.addColorStop(0.2,'rgba(255,220,100,0.20)'); innerTop.addColorStop(0.8,'rgba(255,220,100,0.20)'); innerTop.addColorStop(1,'rgba(255,220,100,0)');
  ctx.fillStyle=innerTop; ctx.fillRect(20,20,1160,4);
}

function downloadPNG() {
  const link = document.createElement('a');
  link.download = 'union-wordcloud.png';
  link.href = c.toDataURL('image/png');
  link.click();
}

draw();
</script>
</body>
</html>
